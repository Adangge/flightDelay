{"fileName":"/contracts/FlightDelayDatabaseModel.sol","name":"FlightDelayDatabaseModel","abi":[],"source":"/*\n\n\tFlightDelay with Oraclized Underwriting and Payout\n\tAll times are UTC.\n\tCopyright (C) Christoph Mussenbrock, Stephan Karpischek\n\n\t\n    Contract Interfaces\n\t\n*/\n\n/***********************************************************************************\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********              ATTENTION                                           **********\n********                                                                  **********\n********                                                                  **********\n********              THIS IS A GENERATED FILE.                           **********\n********                                                                  **********\n********              DON'T MODIFY!                                       **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n********                                                                  **********\n***********************************************************************************/\n\npragma solidity ^0.4.8;\n\ncontract FlightDelayDatabaseModel {\n\n\n\t// Ledger accounts.\n\n\tenum Acc {\n\n\t\tPremium,\n\t\tRiskFund,\n\t\tPayout,\n\t\tBalance,\n\t\tReward,\n\t\tOraclizeCosts\n\n\t}\n\n\t// policy Status Codes and meaning:\n\t//\n\t// 00 = Applied:\tthe customer has payed a premium, but the oracle has\n\t//\t\t\t\t\tnot yet checked and confirmed.\n\t//\t\t\t\t\tThe customer can still revoke the policy.\n\t// 01 = Accepted:\tthe oracle has checked and confirmed.\n\t//\t\t\t\t\tThe customer can still revoke the policy.\n\t// 02 = Revoked:\tThe customer has revoked the policy.\n\t//\t\t\t\t\tThe premium minus cancellation fee is payed back to the\n\t//\t\t\t\t\tcustomer by the oracle.\n\t// 03 = PaidOut:\tThe flight has ended with delay.\n\t//\t\t\t\t\tThe oracle has checked and payed out.\n\t// 04 = Expired:\tThe flight has endet with <15min. delay.\n\t//\t\t\t\t\tNo payout.\n\t// 05 = Declined:\tThe application was invalid.\n\t//\t\t\t\t\tThe premium minus cancellation fee is payed back to the\n\t//\t\t\t\t\tcustomer by the oracle.\n\t// 06 = SendFailed:\tDuring Revoke, Decline or Payout, sending ether failed\n\t//\t\t\t\t\tfor unknown reasons.\n\t//\t\t\t\t\tThe funds remain in the contracts RiskFund.\n\n\n\t//                  00       01        02       03\n\tenum policyState {Applied, Accepted, Revoked, PaidOut,\n\t//\t\t\t\t\t04      05           06\n\t\t\t\t\t  Expired, Declined, SendFailed}\n\n\t// oraclize callback types:\n\tenum oraclizeState { ForUnderwriting, ForPayout }\n\n\t// the policy structure: this structure keeps track of the individual parameters of a policy.\n\t// typically customer address, premium and some status information.\n\n\tstruct policy {\n\n\t\t// 0 - the customer\n\t\taddress customer;\n\t\t// 1 - premium\n\t\tuint premium;\n\n\t\t// risk specific parameters:\n\t\t// 2 - pointer to the risk in the risks mapping\n\t\tbytes32 riskId;\n\t\t// custom payout pattern\n\t\t// in future versions, customer will be able to tamper with this array.\n\t\t// to keep things simple, we have decided to hard-code the array for all policies.\n\t\t// uint8[5] pattern;\n\t\t// 3 - probability weight. this is the central parameter\n\t\tuint weight;\n\t\t// 4 - calculated Payout\n\t\tuint calculatedPayout;\n\t\t// 5 - actual Payout\n\t\tuint actualPayout;\n\n\t\t// status fields:\n\t\t// 6 - the state of the policy\n\t\tpolicyState state;\n\t\t// 7 - time of last state change\n\t\tuint stateTime;\n\t\t// 8 - state change message/reason\n\t\tbytes32 stateMessage;\n\t\t// 9 - TLSNotary Proof\n\t\tbytes proof;\n\t}\n\n\t// the risk structure; this structure keeps track of the risk-\n\t// specific parameters.\n\t// several policies can share the same risk structure (typically \n\t// some people flying with the same plane)\n\n\tstruct risk {\n\n\t\t// 0 - Airline Code + FlightNumber\n\t\tbytes32 carrierFlightNumber;\n\t\t// 1 - scheduled departure and arrival time in the format /dep/YYYY/MM/DD\n\t\tbytes32 departureYearMonthDay;\n\t\t// 2 - the inital arrival time\n\t\tuint arrivalTime;\n\t\t// 3 - the final delay in minutes\n\t\tuint delayInMinutes;\n\t\t// 4 - the determined delay category (0-5)\n\t\tuint8 delay;\n\t\t// 5 - we limit the cumulated weighted premium to avoid cluster risks\n\t\tuint cumulatedWeightedPremium;\n\t\t// 6 - max cumulated Payout for this risk\n\t\tuint premiumMultiplier;\n\t}\n\n\t// the oraclize callback structure: we use several oraclize calls.\n\t// all oraclize calls will result in a common callback to __callback(...).\n\t// to keep track of the different querys we have to introduce this struct.\n\tstruct oraclizeCallback {\n\n\t\t// for which policy have we called?\n\t\tuint policyId;\n\t\t// for which purpose did we call? {ForUnderwrite | ForPayout}\n\t\toraclizeState oState;\n\t\t// time \n\t\tuint oraclizeTime;\n\n\t}\n\n}\n","abiDocs":[]}
